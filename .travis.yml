language: C

addons:
  apt:
    packages:
      - cmake
      - cmake-data

install:
  - sudo apt-get -qq update
  - sudo apt-get -qq install -y wine
  - sudo apt-get -qq install -y binutils-mingw-w64-i686 gcc-mingw-w64-i686

matrix:
  include:
    - os: linux
      compiler: i686-w64-mingw32-gcc
      script:
        - cmake -DCMAKE_TOOLCHAIN_FILE=cmake/mingw-x86.cmake -DCMAKE_BUILD_TYPE=Debug -DMMAN_TEST=ON -DMMAN_COVERAGE=ON -DMMAN_STATIC=ON
        - make -j2

#    - os: linux
#      compiler: x86_64-w64-mingw32-gcc
#      script:
#        - cmake -DCMAKE_TOOLCHAIN_FILE=cmake/mingw-x64.cmake -DCMAKE_BUILD_TYPE=Debug -DMMAN_TEST=ON -DMMAN_COVERAGE=ON -DMMAN_STATIC=ON
#        - make -j2
